<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" >
<head>
    <meta charset="UTF-8">
    <title>질문등록</title>
    <!--공통으로 쓰이는 CSS 및  -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/guide/notice/notice_sidebar.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/admin/notice/noticelist.css}">
    <div th:replace="~{common/fragments/config :: configFragment}"></div>
</head>
<body>
<div th:replace="~{common/fragments/header :: headerFragment}"></div>
<div class="content">
    <div th:replace="~{common/sidebar/question_sidebar :: question_sidebarFragment}"></div>

    <div class="content-wrap">



        <form id="questionForm" th:object="${questionForm}" method="post" enctype="multipart/form-data">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <!-- 유효성검사시 에러메세지 출력영역 -->
            <!--<div th:replace="~{form_errors::formErrorsFragment}"></div>-->
            <div class="mb-3" sec:authorize="isAuthenticated()">
                <label for="subject" class="form-label">제목</label>
                <input type="text" th:field="*{subject}" class="form-control"/>
                <p th:if="${#fields.hasErrors('subject')}" th:errors="*{subject}" class="error"></p>
            </div>
            <div class="mb-3" sec:authorize="isAuthenticated()">
                <label for="content" class="form-label">내용</label>
                <!-- th:field="*{content}"을 적용하면 name="content" id="content" value속성이 자동으로 등록된다-->
                <textarea th:field="*{content}"  class="form-control" rows="8"></textarea>
                <p th:if="${#fields.hasErrors('content')}" th:errors="*{content}" class="error"></p>
            </div>


            <input type="file" name="file" id="fileUpload"><br/>
            <label for="fileUpload">1개의 JPG(JPEG)파일을 올려주세요:</label>

            <div class="mb-3" sec:authorize="isAuthenticated()">
                <label for="pw" class="form-label">비밀번호</label>
                <!-- th:field="*{content}"을 적용하면 name="content" id="content" value속성이 자동으로 등록된다-->
                <textarea th:field="*{pw}"  class="form-control" ></textarea>
                <p th:if="${#fields.hasErrors('pw')}" th:errors="*{pw}" class="error"></p>
            </div>

            <input type="submit" value="질문저장(등록)" class="btn btn-primary my-2">
        </form>



    </div>
</div>
<div th:replace="~{common/fragments/footer :: footerFragment}"></div>
</body>
</html>
