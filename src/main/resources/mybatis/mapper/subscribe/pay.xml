<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bnw.beta.domain.subscribe.dao.payDAO">
<!--게임컨텐츠결제-->
<select id="selectContentsPay" parameterType="Integer" resultType="payDTO">
    <![CDATA[
    SELECT * FROM game WHERE game_no = #{game_no};
    ]]>
</select>

<insert id="insertIntoPay" parameterType="payDTO">
    <![CDATA[
    INSERT INTO pay (member_id, game_no, pay_name, pay_phone, pay_type, buy_name)
    VALUES (#{member_id}, #{game_no}, #{pay_name}, #{pay_phone}, #{pay_type}, #{buy_name});
    ]]>
</insert>
<select id="selectBuylist" parameterType="java.util.List" resultType="payDTO">
    <![CDATA[
    SELECT * FROM game
    WHERE game_no IN
    ]]>
    <foreach item="item" index="index" collection="list" open="(" separator="," close=")">
        #{item}
    </foreach>
</select>

<!--장바구니 제목과 금액 조회
<select id="selectCart" parameterType="String" resultType="CartDTO">
    <![CDATA[
    SELECT c.*, g.game_title, g.game_price
    FROM cart AS c
    JOIN game AS g ON c.game_no = g.game_no
    WHERE c.member_id = #{member_id};
    ]]>
</select>
-->
<!--장바구니 제목과 금액 입력
<insert id="insertIntoCart" parameterType="cartDTO">
    <![CDATA[
    INSERT INTO cart (game_no, member_id)
    VALUES (#{game_no}, #{member_id});
    ]]>
</insert>
-->
</mapper>